(()=>{var e={};e.id=9746,e.ids=[9746],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},92048:e=>{"use strict";e.exports=require("fs")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},87503:e=>{"use strict";e.exports=require("node:net")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},84492:e=>{"use strict";e.exports=require("node:stream")},72477:e=>{"use strict";e.exports=require("node:stream/web")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},65628:e=>{"use strict";e.exports=require("node:zlib")},85998:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>c}),t(44443),t(37877),t(35866);var s=t(23191),i=t(88716),a=t(37922),l=t.n(a),n=t(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(r,d);let c=["",{children:["client",{children:["tickets",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,44443)),"C:\\Users\\audif\\Desktop\\appshade\\src\\app\\client\\tickets\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,37877)),"C:\\Users\\audif\\Desktop\\appshade\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\audif\\Desktop\\appshade\\src\\app\\client\\tickets\\page.tsx"],m="/client/tickets/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/client/tickets/page",pathname:"/client/tickets",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},60166:(e,r,t)=>{Promise.resolve().then(t.bind(t,57062))},49216:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(76557).Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},83855:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(76557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},21405:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(76557).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},79635:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(76557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},57062:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>C});var s=t(10326),i=t(17577),a=t.n(i),l=t(90434),n=t(10074),d=t(37138),c=t(91664),o=t(41190),m=t(38443),u=t(95237),x=t(21405),p=t(83855),h=t(49216),g=t(12470),f=t(38227),j=t(51223),b=t(24118),v=t(82015),y=t(44794),N=t(29280),k=t(35047),w=t(85999);function C(){let[e,r]=(0,i.useState)(""),[t,C]=(0,i.useState)("all"),[q,z]=(0,i.useState)(!1),[P,_]=(0,i.useState)({title:"",description:"",priority:"medium"}),S="true"===new URLSearchParams().get("demo"),{data:A,error:M,loading:O,refetch:D}=(0,g.h_)(S?"/api/tickets?demo=true":"/api/tickets"),Z=a().useMemo(()=>A||[],[A]),E=Z?Z.filter(r=>{let s=r.title.toLowerCase().includes(e.toLowerCase())||r.id.toLowerCase().includes(e.toLowerCase()),i="all"===t||r.status===t;return s&&i}):[],T=(0,k.useRouter)();return(0,s.jsxs)(d.Hn,{defaultCollapsed:!0,collapsible:"expanded",children:[s.jsx(n.X,{}),(0,s.jsxs)(d.kV,{children:[s.jsx("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 px-4",children:[s.jsx(d.vP,{className:"h-9 w-9 p-0"}),s.jsx("h1",{className:"text-xl font-semibold",children:"Mes tickets"})]})}),(0,s.jsxs)("div",{className:"flex-1 overflow-auto p-4",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-2 items-start md:items-center",children:[s.jsx(o.I,{placeholder:"Rechercher un ticket...",className:"w-full md:w-auto",value:e,onChange:e=>r(e.target.value)}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.jsx(c.z,{variant:"outline",size:"sm",onClick:()=>C("all"),className:"all"===t?"bg-primary text-primary-foreground":"",children:"Tous"}),s.jsx(c.z,{variant:"outline",size:"sm",onClick:()=>C("open"),className:"open"===t?"bg-primary text-primary-foreground":"",children:"En attente"}),s.jsx(c.z,{variant:"outline",size:"sm",onClick:()=>C("in_progress"),className:"in_progress"===t?"bg-primary text-primary-foreground":"",children:"En cours"}),s.jsx(c.z,{variant:"outline",size:"sm",onClick:()=>C("closed"),className:"closed"===t?"bg-primary text-primary-foreground":"",children:"Ferm\xe9s"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(c.z,{variant:"outline",size:"sm",onClick:()=>D(),className:"flex items-center gap-1",children:[s.jsx(x.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden md:inline",children:"Actualiser"})]}),s.jsx(c.z,{variant:"outline",size:"sm",onClick:()=>window.location.href="/client/tickets?demo=true",className:"flex items-center gap-1",children:s.jsx("span",{className:"hidden md:inline",children:"Charger d\xe9mo"})}),s.jsx(c.z,{variant:"outline",size:"sm",onClick:async()=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer TOUS les tickets ? Cette action est irr\xe9versible.")){w.Am.loading("Suppression de tous les tickets...");try{if(!(await fetch("/api/tickets",{method:"OPTIONS"})).ok)throw Error("Erreur lors de la suppression des tickets");w.Am.success("Tous les tickets ont \xe9t\xe9 supprim\xe9s avec succ\xe8s"),setTimeout(()=>{window.location.reload()},1e3)}catch(e){w.Am.error("Erreur lors de la suppression des tickets"),console.error(e)}}},className:"flex items-center gap-1 bg-red-50 hover:bg-red-100 text-red-600 border-red-200",children:s.jsx("span",{className:"hidden md:inline",children:"Tout supprimer"})}),(0,s.jsxs)(c.z,{onClick:()=>T.push("/client/tickets/new"),className:"flex items-center gap-1",children:[s.jsx(p.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden md:inline",children:"Nouveau ticket"})]})]})]}),s.jsx("div",{className:"rounded-md border overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-muted/50",children:(0,s.jsxs)("tr",{className:"hidden md:table-row",children:[s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"ID"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Titre"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Statut"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Priorit\xe9"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Date"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:O?Array.from({length:5}).map((e,r)=>(0,s.jsxs)("tr",{className:"border-t",children:[s.jsx("td",{className:"p-4 align-middle",children:s.jsx(f.O,{className:"h-4 w-[40px]"})}),s.jsx("td",{className:"p-4 align-middle",children:s.jsx(f.O,{className:"h-4 w-[200px]"})}),s.jsx("td",{className:"p-4 align-middle",children:s.jsx(f.O,{className:"h-4 w-[80px]"})}),s.jsx("td",{className:"p-4 align-middle",children:s.jsx(f.O,{className:"h-4 w-[80px]"})}),s.jsx("td",{className:"p-4 align-middle",children:s.jsx(f.O,{className:"h-4 w-[120px]"})}),s.jsx("td",{className:"p-4 align-middle",children:s.jsx(f.O,{className:"h-8 w-8 rounded-full"})})]},r)):M?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-4 text-center text-sm text-muted-foreground",children:"Une erreur est survenue lors du chargement des tickets"})}):0===E.length?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-4 text-center text-sm text-muted-foreground",children:'Aucun ticket trouv\xe9. Cr\xe9ez votre premier ticket en cliquant sur "Nouveau ticket".'})}):E.map(e=>(0,s.jsxs)("tr",{className:"border-t hover:bg-muted/50 md:table-row flex flex-col p-4 md:p-0",children:[(0,s.jsxs)("td",{className:"md:p-4 md:align-middle md:table-cell flex justify-between items-center",children:[s.jsx("span",{className:"font-medium md:font-normal md:hidden",children:"ID:"}),(0,s.jsxs)("span",{children:["#",e.id.substring(0,8)]})]}),(0,s.jsxs)("td",{className:"md:p-4 md:align-middle md:table-cell flex justify-between items-center",children:[s.jsx("span",{className:"font-medium md:font-normal md:hidden",children:"Titre:"}),s.jsx(l.default,{href:`/client/tickets/${e.id}`,className:"font-medium hover:underline",children:e.title})]}),(0,s.jsxs)("td",{className:"md:p-4 md:align-middle md:table-cell flex justify-between items-center",children:[s.jsx("span",{className:"font-medium md:font-normal md:hidden",children:"Statut:"}),s.jsx(u.O,{status:e.status})]}),(0,s.jsxs)("td",{className:"md:p-4 md:align-middle md:table-cell flex justify-between items-center",children:[s.jsx("span",{className:"font-medium md:font-normal md:hidden",children:"Priorit\xe9:"}),s.jsx(m.C,{variant:"outline",className:(0,j.cn)("high"===e.priority?"border-red-500 text-red-500":"medium"===e.priority?"border-yellow-500 text-yellow-500":"border-green-500 text-green-500"),children:"high"===e.priority?"Haute":"medium"===e.priority?"Moyenne":"Basse"})]}),(0,s.jsxs)("td",{className:"md:p-4 md:align-middle md:table-cell flex justify-between items-center",children:[s.jsx("span",{className:"font-medium md:font-normal md:hidden",children:"Date:"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:function(e){let r=new Date(e);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)}(e.createdAt)})]}),(0,s.jsxs)("td",{className:"md:p-4 md:align-middle md:table-cell flex justify-between items-center",children:[s.jsx("span",{className:"font-medium md:font-normal md:hidden",children:"Actions:"}),(0,s.jsxs)(c.z,{variant:"ghost",size:"icon",children:[s.jsx(h.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Actions"})]})]})]},e.id))})]})})})]})]}),s.jsx(b.Vq,{open:q,onOpenChange:z,children:(0,s.jsxs)(b.cZ,{className:"sm:max-w-[500px]",children:[s.jsx(b.fK,{children:s.jsx(b.$N,{children:"Cr\xe9er un nouveau ticket"})}),(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(y.Label,{htmlFor:"title",children:"Titre"}),s.jsx(o.I,{id:"title",placeholder:"D\xe9crivez bri\xe8vement votre probl\xe8me",value:P.title,onChange:e=>_({...P,title:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(y.Label,{htmlFor:"description",children:"Description"}),s.jsx(v.g,{id:"description",placeholder:"D\xe9crivez en d\xe9tail votre probl\xe8me",rows:5,value:P.description,onChange:e=>_({...P,description:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(y.Label,{htmlFor:"priority",children:"Priorit\xe9"}),(0,s.jsxs)(N.Ph,{value:P.priority,onValueChange:e=>_({...P,priority:e}),children:[s.jsx(N.i4,{children:s.jsx(N.ki,{placeholder:"S\xe9lectionnez une priorit\xe9"})}),(0,s.jsxs)(N.Bw,{children:[s.jsx(N.Ql,{value:"low",children:"Basse"}),s.jsx(N.Ql,{value:"medium",children:"Moyenne"}),s.jsx(N.Ql,{value:"high",children:"Haute"})]})]})]})]}),(0,s.jsxs)(b.cN,{children:[s.jsx(b.GG,{asChild:!0,children:s.jsx(c.z,{variant:"outline",children:"Annuler"})}),s.jsx(c.z,{onClick:()=>{console.log("Cr\xe9ation du ticket:",P),P.title,P.description,P.priority,new Date().toISOString(),z(!1),_({title:"",description:"",priority:"medium"}),D()},disabled:!P.title||!P.description,children:"Cr\xe9er le ticket"})]})]})})]})}},38443:(e,r,t)=>{"use strict";t.d(r,{C:()=>n});var s=t(10326);t(17577);var i=t(79360),a=t(51223);let l=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:r,...t}){return s.jsx("div",{className:(0,a.cn)(l({variant:r}),e),...t})}},38227:(e,r,t)=>{"use strict";t.d(r,{O:()=>a});var s=t(10326),i=t(51223);function a({className:e,...r}){return s.jsx("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",e),...r})}},95237:(e,r,t)=>{"use strict";t.d(r,{O:()=>a});var s=t(10326);t(17577);var i=t(51223);function a({status:e,className:r,children:t,...a}){return s.jsx("span",{className:(0,i.cn)("inline-flex items-center rounded-md border px-2 py-1 text-xs font-medium",function(e){switch(e){case"open":case"En attente":case"backlog":return"bg-yellow-50 text-yellow-700 dark:bg-yellow-400/10 dark:text-yellow-400 border-yellow-300 dark:border-yellow-400/20";case"in_progress":case"En cours":case"in-progress":return"bg-blue-50 text-blue-700 dark:bg-blue-400/10 dark:text-blue-400 border-blue-300 dark:border-blue-400/20";case"closed":case"Ferm\xe9":case"done":return"bg-green-50 text-green-700 dark:bg-green-400/10 dark:text-green-400 border-green-300 dark:border-green-400/20";case"todo":default:return"bg-gray-50 text-gray-700 dark:bg-gray-400/10 dark:text-gray-400 border-gray-300 dark:border-gray-400/20";case"canceled":return"bg-red-50 text-red-700 dark:bg-red-400/10 dark:text-red-400 border-red-300 dark:border-red-400/20"}}(e),r),...a,children:t||e})}},44443:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`C:\Users\audif\Desktop\appshade\src\app\client\tickets\page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[2510,4140,2497,4661,5232,9014,3672,2255,74,3983],()=>t(85998));module.exports=s})();